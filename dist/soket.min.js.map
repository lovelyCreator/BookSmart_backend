{"version":3,"sources":["soket.js"],"names":["db","require","Chat","chats","io","on","socket","socketHandler","console","log","message","userName","newMessage","username","save","emit"],"mappings":"aACA,IAAMA,GAAKC,QAAQ,aAAXC,KAAGD,GAAOE,MACZD,cAAN,SAAAE,GAGEA,EAAGC,GAAG,aAAc,SAACC,GADjBC,QAAAA,IAAAA,wBAEFC,EAAOH,GAACI,UAAI,SAAAC,GAEZJ,QAAUG,IAAA,eAAWC,GACP,IAAAR,KAAgBQ,CAC5BC,SAAMC,EAAaC,SACjBF,QAAQD,EAASA,QACjBA,UAASA,IAAAA,OAGAI,OALiBV,EAA5BW,KAAA,UAAAL,KAODJ,EATDD,GAAA,aAAA,WAWAC,QAAUG,IAAA","file":"soket.min.js","sourcesContent":["\r\nconst db = require(\"../models\");\r\nconst Chat = db.chats\r\n\r\nconst socketHandler = (io) => {\r\n  io.on('connection', (socket) => {\r\n    console.log('New client connected');\r\n\r\n    socket.on('message', (message) => {\r\n      console.log('New message:', message);\r\n      const newMessage = new Chat({\r\n        userName: message.username,\r\n        message: message.message,\r\n        timestamp: new Date() // Save the current server time to the database\r\n      });\r\n      newMessage.save();\r\n      io.emit('message', message);\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      console.log('Client disconnected');\r\n    });\r\n  });\r\n};"]}
{"version":3,"sources":["soket.js"],"names":["db","require","Chat","chats","socketHandler","io","on","socket","console","log","message","newMessage","userName","username","timestamp","Date","save","emit"],"mappings":";;AACA,IAAMA,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAlB;;AACA,IAAMC,IAAI,GAAGF,EAAE,CAACG,KAAhB;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,EAAD,EAAQ;AAC5BA,EAAAA,EAAE,CAACC,EAAH,CAAM,YAAN,EAAoB,UAACC,MAAD,EAAY;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AAEAF,IAAAA,MAAM,CAACD,EAAP,CAAU,SAAV,EAAqB,UAACI,OAAD,EAAa;AAChCF,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BC,OAA5B;AACA,UAAMC,UAAU,GAAG,IAAIT,IAAJ,CAAS;AAC1BU,QAAAA,QAAQ,EAAEF,OAAO,CAACG,QADQ;AAE1BH,QAAAA,OAAO,EAAEA,OAAO,CAACA,OAFS;AAG1BI,QAAAA,SAAS,EAAE,IAAIC,IAAJ,EAHe,CAGJ;;AAHI,OAAT,CAAnB;AAKAJ,MAAAA,UAAU,CAACK,IAAX;AACAX,MAAAA,EAAE,CAACY,IAAH,CAAQ,SAAR,EAAmBP,OAAnB;AACD,KATD;AAWAH,IAAAA,MAAM,CAACD,EAAP,CAAU,YAAV,EAAwB,YAAM;AAC5BE,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACD,KAFD;AAGD,GAjBD;AAkBD,CAnBD","sourcesContent":["\r\nconst db = require(\"../models\");\r\nconst Chat = db.chats\r\n\r\nconst socketHandler = (io) => {\r\n  io.on('connection', (socket) => {\r\n    console.log('New client connected');\r\n\r\n    socket.on('message', (message) => {\r\n      console.log('New message:', message);\r\n      const newMessage = new Chat({\r\n        userName: message.username,\r\n        message: message.message,\r\n        timestamp: new Date() // Save the current server time to the database\r\n      });\r\n      newMessage.save();\r\n      io.emit('message', message);\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      console.log('Client disconnected');\r\n    });\r\n  });\r\n};"],"file":"soket.dev.js"}
"use strict";var http=require("http"),_require=require("socket.io"),Server=_require.Server,mongoose=require("mongoose"),httpServer=http.createServer(),io=new Server(httpServer,{cors:{origin:"http://localhost:3000",methods:["GET","POST"]}}),db=require("./app/models"),Chat=db.chats;io.on("connection",function(e){console.log("a user connected"),e.on("message",function(e){console.log("New message:",e),new Chat({userName:e.username,message:e.message,timestamp:new Date}).save(),io.emit("message",e)}),e.on("disconnect",function(){console.log("Client disconnected")})});var PORT=8080;httpServer.listen(PORT,function(){console.log("Socket.IO server is running on port ".concat(PORT))});
//# sourceMappingURL=socketServer.min.js.map
